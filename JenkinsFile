pipeline 
{
    agent any

stages{
    stage("Build code")
    {
        steps{
            sh "mvn install"
            sh " ls -lrt target/"

        }
    }

    stage("code analysis")
    {
        steps{
            withSonarQubeEnv('sonarqube-server') {
                    sh "sonar:sonar"       
             }
        }
        
    }
}
}